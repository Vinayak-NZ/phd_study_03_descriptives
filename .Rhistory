source("R/03_data_extracts.R")
source("R/04_aggregate_data.R")
source("R/05_visualise_communication_survey.R")
source("R/05_visualise_demographics.R")
## ---- visualise-demographics-age
subset_data_age <- demographics[demographics$age > 18, ]
subset_data_age <- subset_data_age[!is.na(subset_data_age$age), ]
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 7, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 25) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/socio_demo_age.png",
plot = socio_demo_age)
## ---- visualise-demographics-age
subset_data_age <- demographics[demographics$age > 18, ]
subset_data_age <- subset_data_age[!is.na(subset_data_age$age), ]
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(stat = "count", fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(stat = "count", fill = "#4739a2") +
stat_count(binwidth = 1) +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 7, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 25) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/socio_demo_age.png",
plot = socio_demo_age)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 7, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
View(subset_data_age)
## ---- visualise-demographics-age
subset_data_age <- demographics[demographics$age > 18, ]
subset_data_age <- subset_data_age[!is.na(subset_data_age$age), ]
subset_data_age$age <- as.numeric(subset_data_age$age)
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 7, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
## ---- visualise-demographics-age
subset_data_age <- demographics[demographics$age > 18, ]
subset_data_age <- subset_data_age[!is.na(subset_data_age$age), ]
subset_data_age$age <- as.numeric(subset_data_age$age)
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 5, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 25) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 5, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 30) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 10, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 30) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 15, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(18, 30) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
socio_demo_age <-
ggplot(subset_data_age, aes(x = age)) +
geom_histogram(bins = 15, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of age distribution in workshop",
caption = "Data source: Patient preparedness tool") +
xlab("Age") +
ylab("Count") +
xlim(16, 30) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
socio_demo_age
source("R/00_load_package.R")
source("R/01_load_data.R")
source("R/02_data_edit.R")
source("R/03_data_extracts.R")
source("R/04_aggregate_data.R")
source("R/05_visualise_communication_survey.R")
source("R/05_visualise_demographics.R")
source("R/05_visualise_health_conditions.R")
source("R/05_visualise_regions.R")
source("R/05_visualise_regions.R")
source("R/05_visualise_waiting_room.R")
demographics <- read.csv("input/workshop_04_demographics.csv", sep = ";")
health_related_information <- read.csv("input/workshop_04_health_info.csv", sep = ";")
workshop_one_exp <- read.csv("input/workshop_01_co_creator_experience_survey.csv", sep = ",")
workshop_two_exp <- read.csv("input/workshop_02_co_creator_experience_survey.csv", sep = ",")
workshop_three_exp <- read.csv("input/workshop_03_co_creator_experience_survey.csv", sep = ",")
workshop_four_exp <- read.csv("input/workshop_04_co_creator_experience_survey.csv", sep = ",")
communication_exp <- read.csv("input/workshop_01_communication_survey.csv", sep = ";")
waiting_room_exp <- read.csv("input/workshop_02_waiting_room_survey.csv", sep = ";")
View(health_related_information)
source("R/00_load_package.R")
source("R/01_load_data.R")
source("R/02_data_edit.R")
source("R/03_data_extracts.R")
source("R/04_aggregate_data.R")
source("R/05_visualise_communication_survey.R")
source("R/05_visualise_demographics.R")
source("R/05_visualise_demographics.R")
source("R/05_visualise_demographics.R")
source("R/05_visualise_demographics.R")
source("R/05_visualise_health_conditions.R")
source("R/05_visualise_health_conditions.R")
source("R/05_visualise_regions.R")
region_resided_plot <-
ggplot(region_input, aes(region, co_creator)) +
geom_point(size = 5,colour = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Scatterplot of regions resided in prior to Germany",
caption = "Data source: Patient preparedness tool") +
xlab("Region") +
ylab("Collaborator") +
theme(panel.background = element_blank(), axis.line = element_line(colour = "black"),
panel.grid = element_line(color = "#e18b22", size = 0.2, linetype = 2),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/region_resided_plot.png",
plot = region_resided_plot)
region_birth_healthcare_plot <-
ggplot(cob_input_table,
aes(region_birth,
healthcare,
fill = Count)) +
geom_tile(color = "#FFFFFF",
lwd = 1.5,
linetype = 1) +
geom_text(aes(label = Count), color = "#FFFFFF", size = 4) +
coord_fixed() +
scale_fill_gradient2(low = "#e18b22",
mid = "#46e7fd",
high = "#4739a2",
labels = c("0", "2", "4", "6", "8")) +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Heatmap of regions received care in preior to Germany",
caption = "Data source: Patient preparedness tool") +
xlab("Region of birth") +
ylab("Region received health care in") +
guides(fill = guide_colourbar(title = "Count",
barwidth = 0.5,
barheight = 20)) +
theme(panel.background = element_blank(), axis.line = element_line(colour = "black"),
panel.grid = element_line(color = "#e18b22", size = 0.2, linetype = 2),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/region_birth_healthcare_plot.png",
plot = region_birth_healthcare_plot)
months_arrival_plot <-
ggplot(demographics, aes(x = month_approximation)) +
geom_histogram(bins = 7, fill = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Histogram of months since arrival in Germany",
caption = "Data source: Patient preparedness tool") +
xlab("Time since arrival (Months)") +
ylab("Count") +
xlim(0, 60) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/months_arrival_plot.png",
plot = months_arrival_plot)
region_resided_plot <-
ggplot(region_input, aes(region, co_creator)) +
geom_point(size = 5,colour = "#4739a2") +
labs(title = paste0("Characteristics of collaborators"),
subtitle = "Scatterplot of regions resided in prior to Germany",
caption = "Data source: Patient preparedness tool") +
xlab("Region") +
ylab("Collaborator") +
theme(panel.background = element_blank(), axis.line = element_line(colour = "black"),
panel.grid = element_line(color = "#e18b22", linewidth = 0.2, linetype = 2),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic")
)
ggsave("output/region_resided_plot.png",
plot = region_resided_plot)
source("R/05_visualise_regions.R")
source("R/05_visualise_waiting_room.R")
install.packages("gridExtra")
library(gridExtra)
grid.arrange(socio_demo_age,
socio_demo_sex,
socio_demo_major,
region_birth_healthcare_plot,
ncol=2,
nrow =2)
ggsave("output/plot_set_one.png",
plot = plot_set_one)
plot_set_one <-
grid.arrange(socio_demo_sex,
socio_demo_age,
socio_demo_major,
region_birth_healthcare_plot,
ncol=2,
nrow =2)
ggsave("output/plot_set_one.png",
plot = plot_set_one)
plot_set_one <-
grid.arrange(socio_demo_sex,
socio_demo_age,
ncol= 1,
nrow = 1)
plot_set_one <-
grid.arrange(socio_demo_sex,
socio_demo_age)
plot_set_one <-
grid.arrange(socio_demo_sex,
socio_demo_age,
ncol = 2)
ggsave("output/plot_set_one.png",
plot = plot_set_one)
plot_set_two <-
grid.arrange(socio_demo_major,
region_birth_healthcare_plot,
ncol = 2)
plot_set_two
?txtInt
??txtInt
library(Gmisc, quietly = TRUE)
library(glue)
library(htmlTable)
library(grid)
library(magrittr)
exp_int <- boxGrob(glue("Expressed interest",
"n = {pop}",
"Date = 13th December",
pop = txtInt(27),
.sep = "\n"))
excluded <- boxGrob(glue("Excluded (n = {tot}):",
" - not eligible: {ineligible}",
" - did not respond to interview request: {noint}",
tot = 30,
ineligible = 12,
noint = 30 - 12,
.sep = "\n"),
just = "left")
grid.newpage()
vert <- spreadVertical(exp_int,
exp_int = exp_int,
excluded = excluded)
vert
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two,
team_baby_access = team_baby_access,
workshop_three = workshop_three,
workshop_four = workshop_four)
invited <- boxGrob(glue("Invited as a co-creator",
"n = {pop}",
"Date = 17th January",
pop = txtInt(12),
.sep = "\n"))
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two,
team_baby_access = team_baby_access,
workshop_three = workshop_three,
workshop_four = workshop_four)
meet_greet <- boxGrob(glue("Meet and greet",
"n = {pop}",
"Date = 5th February",
pop = txtInt(11),
.sep = "\n"))
workshop_one <- boxGrob(glue("Workshop one",
"n = {pop}",
"Date = 6th February",
pop = txtInt(11),
.sep = "\n"))
workshop_two <- boxGrob(glue("Workshop two",
"n = {pop}",
"Date = 9th February",
pop = txtInt(12),
.sep = "\n"))
team_baby_access <- boxGrob(glue("Use of TeamBaby web-app",
"n = {pop}",
"Date = 7th February",
pop = txtInt(10),
.sep = "\n"))
workshop_three <- boxGrob(glue("Workshop three",
"n = {pop}",
"Date = 14th February",
pop = txtInt(12),
.sep = "\n"))
workshop_four <- boxGrob(glue("Workshop four",
"n = {pop}",
"Date = 20th February",
pop = txtInt(11),
.sep = "\n"))
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two,
team_baby_access = team_baby_access,
workshop_three = workshop_three,
workshop_four = workshop_four)
vert
exp_int <- boxGrob(glue("Expressed interest",
"n = {pop}",
pop = txtInt(27),
.sep = "\n"))
excluded <- boxGrob(glue("Excluded (n = {tot}):",
" - not eligible: {ineligible}",
" - did not respond to interview request: {noint}",
tot = 30,
ineligible = 12,
noint = 30 - 12,
.sep = "\n"),
just = "left")
invited <- boxGrob(glue("Invited as a co-creator",
"n = {pop}",
"Date = 17th January",
pop = txtInt(12),
.sep = "\n"))
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet)
vert
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two)
vert
library(Gmisc, quietly = TRUE)
library(glue)
library(htmlTable)
library(grid)
library(magrittr)
exp_int <- boxGrob(glue("Expressed interest",
"n = {pop}",
pop = txtInt(27),
.sep = "\n"))
excluded <- boxGrob(glue("Excluded (n = {tot}):",
" - not eligible: {ineligible}",
" - did not respond to interview request: {noint}",
tot = 30,
ineligible = 12,
noint = 30 - 12,
.sep = "\n"),
just = "left")
invited <- boxGrob(glue("Invited as a co-creator",
"n = {pop}",
"Date = 17th January",
pop = txtInt(12),
.sep = "\n"))
grid.newpage()
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two)
meet_greet <- boxGrob(glue("Meet and greet",
"n = {pop}",
"Date = 5th February",
pop = txtInt(11),
.sep = "\n"))
workshop_one <- boxGrob(glue("Workshop one",
"n = {pop}",
"Date = 6th February",
pop = txtInt(11),
.sep = "\n"))
workshop_two <- boxGrob(glue("Workshop two",
"n = {pop}",
"Date = 9th February",
pop = txtInt(12),
.sep = "\n"))
vert <- spreadVertical(exp_int,
invited = invited,
meet_greet = meet_greet,
workshop_one = workshop_one,
workshop_two = workshop_two)
vert
